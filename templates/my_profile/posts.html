{% extends 'base.html' %}
{% load static %}

{% block content %}
    <h1 class="mb-5">Posts:</h1>
    {% for post in posts %}
        <div class="card">
            <div class="card-header">
                {{ post.created }}
            </div>
            <div class="card-body">
                <h5 class="card-title">{{ post.title }}</h5>
                <p class="card-text">{{ post.content|truncatewords:100}}</p>
                <p class="card-text">Author: {{ post.author}}</p>

            <form action="{% url 'add_like' %}" class="rew" method="post">
                {% csrf_token %}
                {{ post.likes }}
                <button type="submit" name="post_id" value="{{ post.id }}" class="btn btn-primary">Like</button>
            </form>
            <form action="{% url 'remove_like' %}" class="rew" method="post">
                {% csrf_token %}
                {{ post.dislikes }}
                <button type="submit" name="post_id" value="{{ post.id }}" class="btn btn-danger">Disike</button>
            </form>

            </div>

        </div><br>

    {% endfor %}
{% endblock %}